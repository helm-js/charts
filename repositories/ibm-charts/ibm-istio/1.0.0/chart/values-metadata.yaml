## Metadata for <ibm-istio-chart> configuration
## This metadata is used to augment the value.yaml to drive ICP UI for configuration of the Helm chart installation

global:
  proxy:
    __metadata:
      label: "Proxy Configuration"
    repository:
      __metadata:
        label: "Proxy Image Repository"
        description: "Docker registry to pull proxy image from."
        type: "string"
        default: "ibmcom/istio-proxyv2"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Proxy Image Tag"
        description: "Proxy image version."
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
    resources:
      __metadata:
        label: "Istio Proxy Resources"
        description: "Specify the resource(CPU/Memory) requests & limits for Istio sidecar."
        type: "object"
      requests:
        __metadata:
          label: "Resources Requests"
          description: "Specify the resource(CPU/Memory) requests for Istio sidecar."
          type: object
        cpu:
          __metadata:
            type: "string"
            description: "Specify the minimum requested CPU."
            default: "10m"
            immutable: false
            required: false
    accessLogFile:
      __metadata:
        label: "Configures the access log for each sidecar"
        description: "Configures the access log for each sidecar. Setting it to an empty string will disable access log for sidecar."
        type: "string"
        default: "/dev/stdout"
        immutable: false
        required: false
    enableCoreDump:
      __metadata:
        label: "Enable Core Dump"
        description: "Specify whether to enable debug information for envoy sidecar."
        type: "boolean"
        default: false
        immutable: false
        required: false
    includeIPRanges:
      __metadata:
        label: "Include IP Ranges"
        description: "Specify istio egress capture whitelist. For example: includeIPRanges: '172.30.0.0/16,172.20.0.0/16'."
        type: "string"
        immutable: false
        required: false
    excludeIPRanges:
      __metadata:
        label: "Exclude IP Ranges"
        description: "Specify istio egress capture blacklist. For example: excludeIPRanges: '172.40.0.0/16,172.50.0.0/16'."
        type: "string"
        immutable: false
        required: false
    excludeInboundPorts:
      __metadata:
        label: "Exclude Port List"
        description: "Specify istio egress capture port blacklist. For example: excludeInboundPorts: '81:8081'."
        type: "string"
        immutable: false
        required: false
    autoInject:
      __metadata:
        label: "Enable Sidecar Auto Inject"
        description: "Specify whether auto-injection policy is enabled."
        type: "string"
        immutable: false
        required: false
        default: "enabled"
    envoyStatsd:
      __metadata:
        lable: "Envoy Statsd Configuration"
      enabled:
        __metadata:
          label: "Enable The Destination Enovy Statsd"
          description: "Enable the destination statsd in Enovy."
          type: "boolean"
          default: true
          immutable: false
          required: false
      host:
        __metadata:
          label: "Statsd Address"
          description: "The address for statsd prometheus bridge."
          type: "string"
          default: "istio-statsd-prom-bridge"
          immutable: false
          required: false
      port:
        __metadata:
          label: "Statsd Port"
          description: "The port for statsd prometheus bridge."
          type: "number"
          default: 9125
          immutable: false
          required: false
  proxyInit:
    __metadata:
      label: "Proxy_init Configuration"
    repository:
      __metadata:
        label: "Proxy_init Image Repository"
        description: "Docker registry to pull proxy_init image from."
        type: "string"
        default: "ibmcom/istio-proxy_init"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Proxy_init Image Tag"
        description: "Proxy_init image version"
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
  kubectl:
    __metadata:
      label: "Kubectl Image"
    repository:
      __metadata:
        label: "Kubectl Image Repository"
        description: "Docker registry to pull kubectl image from."
        type: "string"
        default: "ibmcom/kubectl"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Kubectl Image Tag"
        description: "Kubectl image version."
        type: "string"
        default: "v1.10.0"
        immutable: false
        required: false
  k8sIngressSelector:
    __metadata:
      label: "k8s Ingress Selector"
      description: "Gateway used for legacy k8s Ingress resources. By default it is using 'istio:ingress', to match 0.8 config. It requires that ingress.enabled is set to true. You can also set it to ingressgateway, or any other gateway you define in the 'gateway' section."
      type: "string"
      default: "ingress"
      immutable: false
      required: false
  k8sIngressHttps:
    __metadata:
      label: "Enable k8s Ingress HTTPs"
      description: "k8sIngressHttps will add port 443 on the ingress and ingressgateway. It REQUIRES that the certificates are installed  in the expected secrets - enabling this option without certificates will result in LDS rejection and the ingress will not work."
      type: "boolean"
      default: false
      immutable: false
      required: false
  imagePullPolicy:
    __metadata:
      label: "Image Pull Policy"
      description: "Image pull policy for all istio components, the value can be 'Always', 'Never', or 'IfNotPresent'. Defaults to 'IfNotPresent'."
      type: "string"
      default: "IfNotPresent"
      immutable: false
      required: false
      options:
      - label: "Always"
        value: "Always"
      - label: "Never"
        value: "Never"
      - label: "IfNotPresent"
        value: "IfNotPresent"
  controlPlaneSecurityEnabled:
    __metadata:
      label: "Enable Control Plane Security"
      description: "Specify whether to enable mutual TLS for istio control plane. Setting this field to 'true' will result in delays starting the pods while secrets are propagated, not recommended for tests."
      type: "boolean"
      default: false
      immutable: false
      required: false
  disablePolicyChecks:
    __metadata:
      label: "Disable Policy Checks"
      description: "Disables mixer policy checks. Will set the value with same name in istio config map - pilot needs to be restarted to take effect."
      type: "boolean"
      default: false
      immutable: false
      required: false
  enableTracing:
    __metadata:
      label: "Enable Tracing"
      description: "Sets the value with same name in istio config map, requires pilot restart to take effect."
      type: "boolean"
      default: true
      immutable: false
      required: false
  mtls:
    enabled:
      __metadata:
        label: "Mutual TLS Authentication Enabled"
        description: "Specify whether to enable mutual TLS authentication for services, defaultls to 'false'."
        type: "boolean"
        default: false
        immutable: false
        required: false
  imagePullSecrets:
    __metadata:
      label: "Image Pull Secrets"
      description: "Add 'imagePullSecrets' if images are pulled from a private docker registry."
      type: "array"
      immutable: false
      required: false
      items:
        type: "string"
  oneNamespace:
    __metadata:
      label: "Restrict to one namespace"
      description: "Specify whether to restrict the applications namespace the controller manages."
      type: "boolean"
      default: false
      immutable: false
      required: false
  configValidation:
    __metadata:
      label: "Enable Server-side Validation"
      description: "Specify whether to perform server-side validation of configuration."
      type: "boolean"
      default: true
      immutable: false
      required: false
  meshExpansion:
    __metadata:
      label: "Mesh Expansion"
      description: "If set to true, the pilot and citadel mtls will be exposed on the ingress gateway."
      type: "boolean"
      default: false
      immutable: false
      required: false
  meshExpansionILB:
    __metadata:
      label: "Mesh Expansion ILB"
      description: "If set to true, the pilot and citadel mtls and the plain text pilot ports will be exposed on an internal gateway."
      type: "boolean"
      default: false
      immutable: false
      required: false
  crds:
    __metadata:
      label: "Enable CRDs"
      description: "Include the crd definition when generating the template."
      type: "boolean"
      default: true
      immutable: false
      required: false
  defaultResources:
    __metadata:
      label: "Default Resources Settings"
      description: "Specify the basic resources settings to applied to all deployments."
      type: "object"
    requests:
      __metadata:
        label: "Resources Requests"
        description: "Specify the resource(CPU/Memory) requests for all deployments."
        type: object
      cpu:
        __metadata:
          type: "string"
          description: "Specify the minimum requested CPU."
          default: "10m"
          immutable: false
          required: false
  priorityClassName:
    __metadata:
      label: "Priority Class Name"
      description: "Specify priority class, it can be 'system-cluster-critical' or 'system-node-critical'. Configure this to make sure Istio pods will not be evicted because of low prioroty class."
      type: "string"
      default: ""
      immutable: false
      required: false
  proxyNode:
    __metadata:
      label: "Proxy Node"
      description: "Specify(true or false) whether to scheduled to proxy node with label: \"proxy\"=\"true\""
      type: "boolean"
      default: true
      immutable: false
      required: false
  dedicated:
    __metadata:
      label: "Deploy to Dedicated Node"
      description: "The field controls whether to deploy to dedicated node with taint 'dedicated=:NoSchedule', defaults to 'true'."
      type: "boolean"
      default: true
      immutable: false
      required: false
  extraNodeSelector:
    __metadata:
      label: "Extra Node Selector"
      description: "Specify the extra node selector for all deployments."
      type: "object"
      minProperties: 0
      immutable: false
      required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "AMD64 scheduling preference"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"

ingress:
  enabled:
    __metadata:
      label: "Enable Ingress"
      description: "Specify whether to enable Ingress. This deprecated components support combining Kubernetes Ingress specs with Istio routing rules."
      type: "boolean"
      default: false
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for ingress deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  autoscaleMin:
    __metadata:
      label: "Min Replicas"
      description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
      type: "number"
      default: 1
      immutable: false
      required: false
  autoscaleMax:
    __metadata:
      label: "Max Replicas"
      description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
      type: "number"
      default: 5
      immutable: false
      required: false
  resources:
    __metadata:
      label: "Istio Ingress Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Ingress."
      type: "object"
      default: {}
  service:
    __metadata:
      label: "Ingress Service Configuration"
    annotations:
      __metadata:
        label: "Ingress Service Annotations"
        description: "Specify the annotations for Ingress Service."
        type: "object"
        immutable: false
        required: false
    loadBalancerIP:
      __metadata:
        label: "Service Load Balancer IP"
        description: "Specify load balancer IP for ingress service if its type is LoadBalancer."
        type: "string"
        default: ""
        immutable: false
        required: false
    type:
      __metadata:
        label: "Service Type"
        description: "Specify ingree service type, defaults to 'LoadBalancer'."
        type: "string"
        default: "LoadBalancer"
        immutable: false
        required: false
    ports:
      -
        port:
          __metadata:
            label: "Ingress Service Port"
            description: "Specify http port for Ingress service."
            type: "number"
            default: 80
            immutable: false
            required: false
        nodePort:
          __metadata:
            label: "Ingress Service Node Port"
            description: "Specify Node Port for Ingress service."
            type: "number"
            default: 32000
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingress Service Ports Name"
            description: "Specify name for Ingress service http port."
            type: "string"
            default: "http"
            immutable: false
            required: false
      - 
        port:
          __metadata:
            label: "Ingress Service Port"
            description: "Specify https port for Ingress service."
            type: "number"
            default: 443
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingress Service Ports Name"
            description: "Specify name for Ingress service https port."
            type: "string"
            default: "https"
            immutable: false
            required: false

gateways:
  enabled:
    __metadata:
      label: "Enable Gateways"
      description: "Specify whether to enable Gateway(Ingress and Egress)."
      type: "boolean"
      default: true
      immutable: false
      required: false
  ingressgateway:
    enabled:
      __metadata:
        label: "Enable Ingressgateway"
        description: "Specify whether to enable ingressgateway that supports a platform independent Gateway model for ingress."
        type: "boolean"
        default: true
        immutable: false
        required: false
    labels:
      __metadata:
        label: "Ingressgateway Labels"
        type: "object"
      app:
        __metadata:
          label: "Ingressgateway app label"
          type: "string"
          default: "istio-ingressgateway"
          immutable: false
          required: false
      istio:
        __metadata:
          label: "Ingressgateway istio label"
          type: "string"
          default: "ingressgateway"
          immutable: false
          required: false
    replicaCount:
      __metadata:
        label: "Replica Count"
        description: "Specify number of desired pods for ingress gateway deployment."
        type: "number"
        default: 1
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler."
        type: "number"
        default: 1
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        default: 5
        immutable: false
        required: false
    resources:
      __metadata:
        label: "Istio Ingressgateway Resources"
        description: "Specify the resource(CPU/Memory) requests & limits for Istio Ingressgateway."
        type: "object"
        default: {}
    loadBalancerIP:
      __metadata:
        label: "Load Balancer IP"
        description: "Specify the load balancer IP for ingressgateway."
        type: "string"
        default: ""
        immutable: false
        required: false
    serviceAnnotations:
      __metadata:
        label: "Ingressgateway Service Annotations"
        description: "Specify the annotations for Ingressgateway Service."
        type: "object"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Ingressgateway Type"
        description: "Change to NodePort, ClusterIP or LoadBalancer if need be."
        type: "string"
        default: "LoadBalancer"
        immutable: false
        required: false
    ports:
      -
        port:
          __metadata:
            label: "Ingressgateway Service Port"
            description: "Specify http port for ingressgateway service."
            type: "number"
            default: 80
            immutable: false
            required: false
        targetPort:
          __metadata:
            label: "Ingressgateway Service Target Port"
            description: "Specify http target port for ingressgateway service."
            type: "number"
            default: 80
            immutable: false
            required: false
        nodePort:
          __metadata:
            label: "Ingressgateway Service NodePort"
            description: "Specify http node port for ingressgateway service."
            type: "number"
            default: 31380
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway Service Ports Name"
            description: "Specify name for ingressgateway service http port."
            type: "string"
            default: "http2"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Ingressgateway HTTPs Service Port"
            description: "Specify port for ingressgateway HTTPs service."
            type: "number"
            default: 443
            immutable: false
            required: false
        nodePort:
          __metadata:
            label: "Ingressgateway HTTPs Service NodePort"
            description: "Specify NodePort for ingressgateway HTTPs service."
            type: "number"
            default: 31390
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway HTTPs Service Ports Name"
            description: "Specify name for ingressgateway HTTPs service ports."
            type: "string"
            default: "https"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Ingressgateway Service Port"
            description: "Specify TCP port for ingressgateway service."
            type: "number"
            default: 31400
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway Service Name"
            description: "Specify name for ingressgateway service TCP port."
            type: "string"
            default: "tcp"
            immutable: false
            required: false
        nodePort:
          __metadata:
            label: "Ingressgateway Service NodePort"
            description: "Specify TCP node port for ingressgateway service."
            type: "number"
            default: 31400
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Ingressgateway Pilot Port"
            description: "Specify port for ingressgateway pilot."
            type: "number"
            default: 15011
            immutable: false
            required: false
        targetPort:
          __metadata:
            label: "Ingressgateway Pilot TargetPort"
            description: "Specify TargetPort for ingressgateway pilot."
            type: "number"
            default: 15011
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway Pilot Ports Name"
            description: "Specify ports name for ingressgateway pilot."
            type: "string"
            default: "tcp-pilot-grpc-tls"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Ingressgateway Citadel MTLS Port"
            description: "Specify port for ingressgateway citadel MTLS."
            type: "number"
            default: 8060
            immutable: false
            required: false
        targetPort:
          __metadata:
            label: "Ingressgateway Citadel MTLS TargetPort"
            description: "Specify TargetPort for ingressgateway citadel MTLS."
            type: "number"
            default: 8060
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway Citadel MTLS Ports Name"
            description: "Specify ports name for ingressgateway citadel MTLS."
            type: "string"
            default: "tcp-citadel-grpc-tls"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Ingressgateway Prometheus Port"
            description: "Specify port for ingressgateway prometheus."
            type: "number"
            default: 15030
            immutable: false
            required: false
        targetPort:
          __metadata:
            label: "Ingressgateway Prometheus TargetPort"
            description: "Specify target port for ingressgateway prometheus."
            type: "number"
            default: 15030
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway Prometheus Port Name"
            description: "Specify name for ingressgateway prometheus port."
            type: "string"
            default: "http2-prometheus"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Ingressgateway Grafana Port"
            description: "Specify port for ingressgateway grafana."
            type: "number"
            default: 15031
            immutable: false
            required: false
        targetPort:
          __metadata:
            label: "Ingressgateway Grafana TargetPort"
            description: "Specify TargetPort for ingressgateway grafana."
            type: "number"
            default: 15031
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway Grafana ports Name"
            description: "Specify ports name for ingressgateway grafana."
            type: "string"
            default: "http2-grafana"
            immutable: false
            required: false
    secretVolumes:
      -
        name:
          __metadata:
            label: "Ingressgateway Certs Volume Name"
            description: "Specify name for ingressgateway certs volume."
            type: "string"
            default: "ingressgateway-certs"
            immutable: false
            required: false
        secretName:
          __metadata:
            label: "Ingressgateway Certs Volume Secret Name"
            description: "Specify secret name for ingressgateway certs volume."
            type: "string"
            default: "istio-ingressgateway-certs"
            immutable: false
            required: false
        mountPath:
          __metadata:
            label: "Ingressgateway Certs Volume Mount Path"
            description: "Specify mount path for ingressgateway certs volume."
            type: "string"
            default: "/etc/istio/ingressgateway-certs"
            immutable: false
            required: false
      -
        name:
          __metadata:
            label: "Ingressgateway CA Certs Volume Name"
            description: "Specify name for ingressgateway CA certs volume."
            type: "string"
            default: "ingressgateway-ca-certs"
            immutable: false
            required: false
        secretName:
          __metadata:
            label: "Ingressgateway CA Certs Volume Secret Name"
            description: "Specify secret name for ingressgateway CA certs volume."
            type: "string"
            default: "istio-ingressgateway-ca-certs"
            immutable: false
            required: false
        mountPath:
          __metadata:
            label: "Ingressgateway CA Certs Volume Mount Path"
            description: "Specify mount path for ingressgateway CA certs volume."
            type: "string"
            default: "/etc/istio/ingressgateway-ca-certs"
            immutable: false
            required: false
  egressgateway:
    enabled:
      __metadata:
        label: "Enable Egressgateway"
        description: "Specify whether to enable egressgateway that supports a platform independent traffic management model for ingress."
        type: "boolean"
        default: true
        immutable: false
        required: false
    labels:
      __metadata:
        label: "Egressgateway Labels"
        type: "object"
      app:
        __metadata:
          label: "Egressgateway app label"
          type: "string"
          default: "istio-ingressgateway"
          immutable: false
          required: false
      istio:
        __metadata:
          label: "Egressgateway istio label"
          type: "string"
          default: "ingressgateway"
          immutable: false
          required: false
    replicaCount:
      __metadata:
        label: "Replica Count"
        description: "Specify number of desired pods for egress gateway deployment."
        type: "number"
        default: 1
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
        type: "number"
        default: 1
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        default: 5
        immutable: false
        required: false
    resources:
      __metadata:
        label: "Istio Egressgateway Resources"
        description: "Specify the resource(CPU/Memory) requests & limits for Istio Egressgateway."
        type: "object"
        default: {}
    serviceAnnotations:
      __metadata:
        label: "Egressgateway Service Annotations"
        description: "Specify the annotations for Egressgateway service."
        type: "object"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Egressgateway Type"
        description: "Change to NodePort or LoadBalancer if need be."
        type: "string"
        default: "ClusterIP"
        immutable: false
        required: false
    ports:
      -
        port:
          __metadata:
            label: "Egressgateway Service Port"
            description: "Specify http port for Egressgateway service."
            type: "number"
            default: 80
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway Port Name"
            description: "Specify port name for egressgateway service http port."
            type: "string"
            default: "http2"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Egressgateway Service HTTPs Port"
            description: "Specify HTTPs port for egressgateway service."
            type: "number"
            default: 433
            immutable: false
            required: false
        name:
          __metadata:
            label: "Ingressgateway HTTPs Port Name"
            description: "Specify HTTPs port name for egressgateway service."
            type: "string"
            default: "https"
            immutable: false
            required: false
    secretVolumes:
      -
        name:
          __metadata:
            label: "Egressgateway Certs Volume Name"
            description: "Specify certs volume name for egressgateway."
            type: "string"
            default: "egressgateway-certs"
            immutable: false
            required: false
        secretName:
          __metadata:
            label: "Egressgateway Certs Volume Secret Name"
            description: "Specify secret name for egressgateway certs volume."
            type: "string"
            default: "istio-egressgateway-certs"
            immutable: false
            required: false
        mountPath:
          __metadata:
            label: "Egressgateway Certs Volume Mount Path"
            description: "Specify mount path for egressgateway certs volume."
            type: "string"
            default: "/etc/istio/egressgateway-certs"
            immutable: false
            required: false
      -
        name:
          __metadata:
            label: "Egressgateway CA Certs Volume Name"
            description: "Specify CA Certs volume name for egressgateway."
            type: "string"
            default: "egressgateway-ca-certs"
            immutable: false
            required: false
        secretName:
          __metadata:
            label: "Egressgateway CA Certs Volume Secret Name"
            description: "Specify secret name for egressgateway CA secret volume."
            type: "string"
            default: "istio-egressgateway-ca-certs"
            immutable: false
            required: false
        mountPath:
          __metadata:
            label: "Egressgateway CA Certs Volume Mount Path"
            description: "Specify mount path for egressgateway CA certs volume."
            type: "string"
            default: "/etc/istio/egressgateway-ca-certs"
            immutable: false
            required: false
  ilbgateway:
    enabled:
      __metadata:
        label: "Enable ILB Gateway"
        description: "Specify whether to enable Ingressgateway that creates a gateway of type InternalLoadBalancer."
        type: "boolean"
        default: false
        immutable: false
        required: false
    labels:
      __metadata:
        label: "ILB Gateway Labels"
      app:
        __metadata:
          label: "ILB Gateway app label"
          type: "string"
          default: "istio-ilbgateway"
          immutable: false
          required: false
      istio:
        __metadata:
          label: "ILB Gateway istio label"
          type: "string"
          default: "ilbgateway"
          immutable: false
          required: false
    replicaCount:
      __metadata:
        label: "Replica Count"
        description: "Specify number of desired pods for ILB Gateway deployment."
        type: "number"
        default: 1
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
        type: "number"
        default: 1
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        default: 5
        immutable: false
        required: false
    resources:
      __metadata:
        label: "Istio ILB Gateway Resources"
        description: "Specify the resource(CPU/Memory) requests & limits for Istio ILB Gateway."
        type: "object"
      requests:
        __metadata:
          label: "Resources Requests"
          description: "Specify the resource(CPU/Memory) requests for Istio ILB Gateway."
          type: object
        cpu:
          __metadata:
            type: "string"
            description: "Specify the minimum requested CPU."
            default: "800m"
            immutable: false
            required: false
        memory:
          __metadata:
            type: "string"
            description: "Specify the minimum requested memory."
            default: "512Mi"
            immutable: false
            required: false
    loadBalancerIP:
      __metadata:
        label: "Load Balancer IP"
        description: "Specify the load balancer IP for ILB Gateway."
        type: "string"
        default: ""
        immutable: false
        required: false
    serviceAnnotations:
      __metadata:
        label: "ILB Gateway Service Annotations"
        description: "Specify the annotations for ILB Gateway Service."
        type: "object"
        immutable: false
        required: false
    type:
      __metadata:
        label: "ILB Gateway Type"
        type: "string"
        default: "LoadBalancer"
        immutable: false
        required: false
    ports:
      -
        port:
          __metadata:
            label: "ILB Gateway Service Port"
            description: "Specify port for ILB Gateway service."
            type: "number"
            default: 15011
            immutable: false
            required: false
        name:
          __metadata:
            label: "ILB Gateway Service Port Name"
            description: "Specify name for ILB Gateway service port."
            type: "string"
            default: "grpc-pilot-mtls"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "ILB Gateway Service Insecure Port"
            description: "Specify insecure port for ILB Gateway service."
            type: "number"
            default: 15010
            immutable: false
            required: false
        name:
          __metadata:
            label: "ILB Gateway Service Name"
            description: "Specify name for ILB Gateway service insecure port."
            type: "string"
            default: "grpc-pilot"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Mesh ILB Gateway Citadel TLS Port"
            description: "Specify port for Mesh ILB Gateway Citadel TLS."
            type: "number"
            default: 8060
            immutable: false
            required: false
        targetPort:
          __metadata:
            label: "Mesh ILB Gateway Citadel TLS TargetPort"
            description: "Specify target port for Mesh ILB Gateway Citadel TLS."
            type: "number"
            default: 8060
            immutable: false
            required: false
        name:
          __metadata:
            label: "Mesh ILB Gateway Citadel TLS Port Name"
            description: "Specify name for Mesh ILB Gateway Citadel TLS."
            type: "string"
            default: "tcp-citadel-grpc-tls"
            immutable: false
            required: false
      -
        port:
          __metadata:
            label: "Mesh ILB Gateway kube-dns Forward Port"
            description: "Specify port for Mesh ILB Gateway that is forwarded to kube-dns."
            type: "number"
            default: 5353
            immutable: false
            required: false
        name:
          __metadata:
            label: "Mesh ILB Gateway kube-dns Forward Port Name"
            description: "Specify ports name for Mesh ILB Gateway kube-dns forward port."
            type: "string"
            default: "tcp-dns"
            immutable: false
            required: false
    secretVolumes:
      -
        name:
          __metadata:
            label: "Mesh ILB Gateway Certs Volume Name"
            description: "Specify name for Mesh ILB Gateway certs volume."
            type: "string"
            default: "ilbgateway-certs"
            immutable: false
            required: false
        secretName:
          __metadata:
            label: "Mesh ILB Gateway Certs Volume Secret Name"
            description: "Specify secret name for Mesh ILB Gateway certs volume."
            type: "string"
            default: "istio-ilbgateway-certs"
            immutable: false
            required: false
        mountPath:
          __metadata:
            label: "Mesh ILB Gateway Certs Volume Mount Path"
            description: "Specify mount path for Mesh ILB Gateway certs volume."
            type: "string"
            default: "/etc/istio/ilbgateway-certs"
            immutable: false
            required: false
      -
        name:
          __metadata:
            label: "Mesh ILB Gateway CA Certs Volume Name"
            description: "Specify name for Mesh ILB Gateway CA certs volume."
            type: "string"
            default: "ilbgateway-ca-certs"
            immutable: false
            required: false
        secretName:
          __metadata:
            label: "Mesh ILB Gateway CA Certs Volume Secret Name"
            description: "Specify secret name for Mesh ILB Gateway CA certs volume."
            type: "string"
            default: "istio-ilbgateway-ca-certs"
            immutable: false
            required: false
        mountPath:
          __metadata:
            label: "Mesh ILB Gateway CA Certs Volume Mount Path"
            description: "Specify mount path for Mesh ILB Gateway CA certs volume."
            type: "string"
            default: "/etc/istio/ilbgateway-ca-certs"
            immutable: false
            required: false

sidecarinjectorwebhook:
  enabled:
    __metadata:
      label: "Enable Sidecar Injector Webhook"
      description: "Specify whether to enable sidecar injector webhook to support automatical sidecar injection."
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for sidecar injector webhook deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  enableNamespacesByDefault:
    __metadata:
      label: "Enable Namespaces By Default"
      description: "Specify whether to enable Namespaces for sidercar by default"
      type: "boolean"
      default: false
      immutable: false
      required: false
  image:
    __metadata:
      label: "Sidecar Injector Image"
    repository:
      __metadata:
        label: "Sidecar Injector Image Repository"
        description: "Docker registry to pull sidecar injector image from."
        type: "string"
        default: "ibmcom/istio-sidecar_injector"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Sidecar Injector Image Tag"
        description: "Sidecar Injector image version"
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Sidecar Injector Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Sidecar Injector."
      type: "object"
      default: {}

galley:
  enabled:
    __metadata:
      label: "Enable Galley"
      description: "Specify whether to enabel Galley."
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for galley deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Galley Image"
    repository:
      __metadata:
        label: "Galley Injector Image Repository"
        description: "Docker registry to pull galley image from."
        type: "string"
        default: "ibmcom/istio-galley"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Galley Image Tag"
        description: "Galley image version."
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Galley Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Galley."
      type: "object"
      default: {}

mixer:
  enabled:
    __metadata:
      label: "Enable Mixer"
      description: "Specify whether to enable Mixer."
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Mixer deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Mixer Image"
    repository:
      __metadata:
        label: "Mixer Image Repository"
        description: "Docker registry to pull mixer image from."
        type: "string"
        default: "ibmcom/istio-mixer"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Mixer Image Tag"
        description: "Mixer image version."
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Mixer Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Mixer."
      type: "object"
      default: {}
  policy:
    __metadata:
      label: "Mixer Policy Configuration"
    autoscaleEnabled:
      __metadata:
        label: "Enable Policy Auto Scaler"
        description: "Specify whether to enable auto scaler for Mixer policy checker."
        type: "boolean"
        default: true
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
        type: "number"
        default: 1
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        default: 5
        immutable: false
        required: false
    cpu:
      __metadata:
        label: "CPU"
      targetAverageUtilization:
        __metadata:
          label: "Target Average Utilization"
          description: "Specify CPU target average utilization."
          type: "number"
          default: 80
          immutable: false
          required: false
  telemetry:
    __metadata:
      label: "Mixer Telemetry Configuration"
    autoscaleEnabled:
      __metadata:
        label: "Enable Telemetry Auto Scaler"
        description: "Specify whether to enable auto scaler for Mixer telemetry."
        type: "boolean"
        default: true
        immutable: false
        required: false
    autoscaleMin:
      __metadata:
        label: "Min Replicas"
        description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
        type: "number"
        default: 1
        immutable: false
        required: false
    autoscaleMax:
      __metadata:
        label: "Max Replicas"
        description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
        type: "number"
        default: 5
        immutable: false
        required: false
    cpu:
      __metadata:
        label: "CPU"
      targetAverageUtilization:
        __metadata:
          label: "Target Average Utilization"
          description: "Specify CPU target average utilization."
          type: "number"
          default: 80
          immutable: false
          required: false
  prometheusStatsdExporter:
    __metadata:
      label: "Prometheus Statsd Exporter Configuration"
    repository:
      __metadata:
        label: "Prometheus Statsd Image Repository"
        description: "Docker registry to pull prometheus statsd image from."
        type: "string"
        default: "ibmcom/prom-statsd-exporter"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Prometheus Statsd Image Tag"
        description: "Prometheus statsd image version."
        type: "string"
        default: "v0.6.0"
        immutable: false
        required: false
    resources:
      __metadata:
        label: "Istio Prometheus Statsd Exporter Resources"
        description: "Specify the resource(CPU/Memory) requests & limits for Istio Prometheus Statsd Exporter."
        type: "object"
        default: {}

pilot:
  enabled:
    __metadata:
      label: "Enable Pilot"
      description: "Specify whether to enable Pilot."
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Pilot deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  autoscaleMin:
    __metadata:
      label: "Min Replicas"
      description: "Lower limit for the number of pods that can be set by the autoscaler, default 1."
      type: "number"
      default: 1
      immutable: false
      required: false
  autoscaleMax:
    __metadata:
      label: "Max Replicas"
      description: "Upper limit for the number of pods that can be set by the autoscaler, cannot be smaller than MinReplicas."
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Pilot Image"
    repository:
      __metadata:
        label: "Pilot Image Repository"
        description: "Docker registry to pull pilot image from."
        type: "string"
        default: "ibmcom/istio-pilot"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Pilot Image Tag"
        description: "Pilot image version."
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
  sidecar:
    __metadata:
      label: "Enable sidecar"
      description: "Specify whether to enable envoy sidecar in Pilot."
      type: "boolean"
      default: true
      immutable: false
      required: false
  traceSampling:
    __metadata:
      label: "Trace Sampling"
      description: "Specify trace sampling number for Pilot."
      type: "number"
      default: 100.0
      immutable: false
      required: false
  resources:
    __metadata:
      label: "Istio Pilot Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Pilot."
      type: "object"
    requests:
      __metadata:
        label: "Resources Requests"
        description: "Specify the resource(CPU/Memory) requests for Istio Pilot."
        type: object
      cpu:
        __metadata:
          type: "string"
          description: "Specify the minimum requested CPU."
          default: "500m"
          immutable: false
          required: false
      memory:
        __metadata:
          type: "string"
          description: "Specify the minimum requested memory."
          default: "2048Mi"
          immutable: false
          required: false

security:
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Citadel deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  selfSigned:
    __metadata:
      label: "Self Signed"
      description: "Indicate if self-signed CA is used."
      type: "boolean"
      default: true
      immutable: false
      required: false
  image:
    __metadata:
      label: "Citadel Image"
    repository:
      __metadata:
        label: "Citadel Image Repository"
        description: "Docker registry to pull citadel image from."
        type: "string"
        default: "ibmcom/istio-citadel"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Citadel Image Tag"
        description: "Citadel image version."
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Citadel Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Citadel."
      type: "object"
      default: {}

telemetrygateway:
  gatewayName:
    __metadata:
      label: "Telemetry Gateway Name"
      description: "Specify name for telemetry Gateway."
      type: "string"
      default: ingressgateway
      immutable: false
      required: false
  grafanaEnabled:
    __metadata:
      label: "Enable Grafana"
      description: "Specify whether to enable Grafana for telemetry Gateway."
      type: "boolean"
      default: false
      immutable: false
      required: false
  prometheusEnabled:
    __metadata:
      label: "Enable Prometheus"
      description: "Specify whether to enable Prometheus for telemetry Gateway"
      type: "boolean"
      default: false
      immutable: false
      required: false

grafana:
  enabled:
    __metadata:
      label: "Enable Grafana"
      description: "Specify whether to enable grafana, addon for beautiful monitoring and metric analytics & dashboards for Istio."
      type: "boolean"
      default: false
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for grafana deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Grafana Image"
    repository:
      __metadata:
        label: "Grafana Image Repository"
        description: "Docker registry to pull grafana image from."
        type: "string"
        default: "ibmcom/istio-grafana"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Grafana Image Tag"
        description: "Grafana image version."
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
  security:
    __metadata:
      label: "Grafana Security Configuration"
    enabled:
      __metadata:
        label: "Enable Grafana Security"
        description: "Specify whether authentication is needed to access Grafana dashboard."
        type: "boolean"
        default: false
        immutable: false
        required: false
    adminUser:
      __metadata:
        label: "Grafana Admin User"
        description: "Specify username to access Grafana dashboard."
        type: "boolean"
        default: admin
        immutable: false
        required: false
    adminPassword:
      __metadata:
        label: "Enable Admin Password"
        description: "Specify password to access Grafana dashboard."
        type: "boolean"
        default: admin
        immutable: false
        required: false
  service:
    __metadata:
      label: "Grafana Service Configuration"
    annotations:
      __metadata:
        label: "Grafana Service Annotation"
        description: "Specify the annotations for Grafana sevice."
        type: "object"
        immutable: false
        required: false
    name:
      __metadata:
        label: "Grafana Service Name"
        description: "Specify name for the Grafana service."
        type: "string"
        default: "http"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Grafana Service Type"
        description: "Specify type for the Grafana service."
        type: "string"
        default: "ClusterIP"
        immutable: false
        required: false
    externalPort:
      __metadata:
        label: "Grafana Service External Port"
        description: "Specify external port for the Grafana service."
        type: "number"
        default: 3000
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Grafana Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Grafana."
      type: "object"
      default: {}

prometheus:
  enabled:
    __metadata:
      label: "Enable Prometheus"
      description: "Specify whether to enable Prometheus, monitoring system for Istio."
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Prometheus deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Prometheus Image"
    repository:
      __metadata:
        label: "Prometheus Image Repository"
        description: "Docker registry to pull Prometheus image from."
        type: "string"
        default: "ibmcom/prometheus"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Prometheus Image Tag"
        description: "Prometheus image version."
        type: "string"
        default: "v2.3.1"
        immutable: false
        required: false
  service:
    __metadata:
      label: "Prometheus Service Configuration"
    annotations:
      __metadata:
        label: "Prometheus Service Annotation"
        description: "Specify the annotations for Prometheus sevice."
        type: "object"
        immutable: false
        required: false
    nodePort:
      enabled:
        __metadata:
          label: "Enable Service NodePort"
          description: "Specify whether to enable nodePort for Prometheus service."
          type: "boolean"
          default: false
          immutable: false
          required: false
      port:
        __metadata:
          label: "Service NodePort"
          description: "Specify nodePort for Prometheus service."
          type: "number"
          default: 32090
          immutable: false
          required: false    
  resources:
    __metadata:
      label: "Prometheus Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Prometheus."
      type: "object"
      default: {}

servicegraph:
  enabled:
    __metadata:
      label: "Enable Servicegraph"
      description: "Specify whether to enable Servicegraph, addon for istio that generates and visualizes graph representations of service mesh."
      type: "boolean"
      default: false
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Servicegraph deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Servicegraph Image"
    repository:
      __metadata:
        label: "Docker registry to pull Servicegraph image from."
        description: "image location"
        type: "string"
        default: "ibmcom/istio-servicegraph"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Servicegraph Image Tag"
        description: "Servicegraph image version."
        type: "string"
        default: "1.0.0"
        immutable: false
        required: false
  service:
    __metadata:
      label: "Servicegraph Service Configuration"
    annotations:
      __metadata:
        label: "Servicegraph Service Annotation"
        description: "Specify the annotations for Servicegraph sevice."
        type: "object"
        immutable: false
        required: false
    name:
      __metadata:
        label: "Servicegraph Service Name"
        description: "Specify name for Servicegraph service."
        type: "string"
        default: "http"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Servicegraph Service Type"
        description: "Specify typr for Servicegraph service."
        type: "string"
        default: "ClusterIP"
        immutable: false
        required: false
    externalPort:
      __metadata:
        label: "Servicegraph Service External Port"
        description: "Specify external port for Servicegraph service."
        type: "number"
        default: 8088
        immutable: false
        required: false
  ingress:
    __metadata:
      label: "Servicegraph Ingress Configuration"
    enabled:
      __metadata:
        label: "Enable Servicegraph Ingress"
        description: "Specify whether to enable ingress for Servicegraph."
        type: "boolean"
        default: false
        immutable: false
        required: false
    hosts:
      __metadata:
        label: "Servicegraph Ingress hosts"
        description: "Specify the hosts for Servicegraph ingress."
        type: "array"
        minItems: 1,
        maxItems: 3,
        items:
          type: "string"
        immutable: false
        required: false
    annotations:
      __metadata:
        label: "Servicegraph Ingress Annotation"
        description: "Specify the annotations for Servicegraph ingress."
        type: "object"
        immutable: false
        required: false
    tls:
      __metadata:
        label: "Servicegraph Ingress TLS"
        description: "Specify the tls for Servicegraph ingress."
        type: "array"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Servicegraph Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Servicegraph."
      type: "object"
      default: {}
  prometheusAddr:
    __metadata:
      label: "Prometheus Address"
      description: "Specify the prometheus address, it can be FQSN of the service."
      type: "string"
      default: "http://prometheus:9090"
      immutable: false
      required: false

tracing:
  enabled:
    __metadata:
      label: "Enable Tracing"
      description: "Specify whether to enable tracing for monitoring and troubleshooting istio service mesh."
      type: "boolean"
      default: false
      immutable: false
      required: false
  provider:
    __metadata:
      label: "Tracing Provider"
      description: "Specify the provider for tracing service."
      type: "string"
      default: "jaeger"
      immutable: false
      required: false
  jaeger:
    image:
      __metadata:
        label: "Jaeger Image"
      repository:
        __metadata:
          label: "Jaeger Image Repository"
          description: "Docker registry to pull jaeger image from."
          type: "string"
          default: "ibmcom/jaegertracing-all-in-one"
          immutable: false
          required: false
      tag:
        __metadata:
          label: "Jaeger Image Tag"
          description: "Jaeger image version."
          type: "string"
          default: "1.5"
          immutable: false
          required: false
    memory:
      maxTraces:
        __metadata:
          label: "Jaeger Max Traces"
          description: "Spectify max traces limits for jaeger."
          type: "number"
          default: 50000
          immutable: false
          required: false
    ingress:
      enabled:
        __metadata:
          label: "Enable Jaeger Ingress"
          description: "Specify whether to enable ingress for Jaeger service."
          type: "boolean"
          default: false
          immutable: false
          required: false
      hosts:
        __metadata:
          label: "Jaeger Ingress hosts"
          description: "Specify the hosts for Jaeger ingress."
          type: "array"
          items:
            type: "string"
          immutable: false
          required: false
      annotations:
        __metadata:
          label: "Jaeger Ingress Annotation"
          description: "Specify the annotations for Jaeger ingress."
          type: "object"
          immutable: false
          required: false
      tls:
        __metadata:
          label: "Jaeger Ingress TLS"
          description: "Specify the TLS settings for Jaeger ingress."
          type: "array"
          immutable: false
          required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for tracing deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  service:
    __metadata:
      label: "Tracing Service Configuration"
    annotations:
      __metadata:
        label: "Tracing Service Annotation"
        description: "Specify the annotations for tracing service."
        type: "object"
        immutable: false
        required: false
    name:
      __metadata:
        label: "Tracing Service Name"
        description: "Specify the name for the tracing service."
        type: "string"
        default: "http"
        immutable: false
        required: false
    type:
      __metadata:
        label: "Tracing Service Type"
        description: "Specify the type for tracing service."
        type: "string"
        default: "ClusterIP"
        immutable: false
        required: false
    externalPort:
      __metadata:
        label: "Tracing Service External Port"
        description: "Specify the external port for tracing service."
        type: "number"
        default: 9411
        immutable: false
        required: false
  ingress:
    enabled:
      __metadata:
        label: "Enable Tracing Ingress"
        description: "Specify whether to enable ingress for tracing."
        type: "boolean"
        default: false
        immutable: false
        required: false
    hosts:
      __metadata:
        label: "Tracing Ingress hosts"
        description: "Specify the hosts for tracing ingress."
        type: "array"
        items:
          type: "string"
        immutable: false
        required: false
    annotations:
      __metadata:
        label: "Tracing Ingress Annotation"
        description: "Specify the annotations for tracing ingress."
        type: "object"
        immutable: false
        required: false
    tls:
      __metadata:
        label: "Tracing Ingress TLS"
        description: "Specify the TLS settings for tracing ingress."
        type: "array"
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Istio Tracing Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Istio Tracing."
      type: "object"
      default: {}

kiali:
  enabled:
    __metadata:
      label: "Enable Kiali"
      description: "Specify whether to enable Kiali for Istio."
      type: "boolean"
      default: false
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Kiali deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Kiali Image"
    repository:
      __metadata:
        label: "Kiali Image Repository"
        description: "Docker registry to pull Kiali image from."
        type: "string"
        default: "ibmcom/kiali"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Kiali Image Tag"
        description: "Kiali image version."
        type: "string"
        default: "v0.5.0"
        immutable: false
        required: false
  ingress:
    enabled:
      __metadata:
        label: "Enable Kiali Ingress"
        description: "Specify whether to enable ingress for Kiali service."
        type: "boolean"
        default: false
        immutable: false
        required: false
    hosts:
      __metadata:
        label: "Kiali Ingress hosts"
        description: "Specify the hosts for Kiali ingress."
        type: "array"
        items:
          type: "string"
        immutable: false
        required: false
    annotations:
      __metadata:
        label: "Kiali Ingress Annotation"
        description: "Specify the annotations for Kiali ingress."
        type: "object"
        immutable: false
        required: false
    tls:
      __metadata:
        label: "Kiali Ingress TLS"
        description: "Specify the TLS settings for Kiali ingress."
        type: "array"
        immutable: false
        required: false
  dashboard:
    username:
      __metadata:
        label: "Kiali Dashboard Username"
        description: "Specify username to access Kiali dashboard."
        type: "string"
        default: "admin"
        immutable: false
        required: false
    passphrase:
      __metadata:
        label: "Kiali Dashboard Passphrase"
        description: "Specify passphrase to access Kiali dashboard."
        type: "string"
        default: "admin"
        immutable: false
        required: false
    grafanaURL:
      __metadata:
        label: "Grafana URL"
        description: "Specify the Grafana URL for Kiali dashboard."
        type: "string"
        default: ""
        immutable: false
        required: false
    jaegerURL:
      __metadata:
        label: "Jaeger URL"
        description: "Specify the Jaeger URL for Kiali dashboard."
        type: "string"
        default: ""
        immutable: false
        required: false
  resources:
    __metadata:
      label: "Kiali Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Kiali."
      type: "object"
      default: {}

certmanager:
  enabled:
    __metadata:
      label: "Enable Cert Manager"
      description: "Specify whether to enable Cert Manager for Istio."
      type: "boolean"
      default: false
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "Specify number of desired pods for Cert Manager deployment."
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Cert Manager Image"
    repository:
      __metadata:
        label: "Cert Manager Image Repository"
        description: "Docker registry to pull Cert Manager image from."
        type: "string"
        default: "ibmcom/cert-manager"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Cert Manager Image Tag"
        description: "Cert Manager image version."
        type: "string"
        default: "v0.3.1"
        immutable: false
        required: false
  extraArgs:
    __metadata:
      label: "Cert Manager Extra Args"
      description: "Specify the extra arguments for the Cert Manager."
      type: "array"
      default: []
      items:
        type: "string"
      immutable: false
      required: false
  podAnnotations:
    __metadata:
      label: "Cert Manager Pod Annotations"
      description: "Specify the pod annotations for the Cert Manager."
      type: "object"
      immutable: false
      required: false
  podLabels:
    __metadata:
      label: "Cert Manager Pod Labels"
      description: "Specify the pod labels for the Cert Manager."
      type: "object"
      immutable: false
      required: false
  podDnsPolicy:
    __metadata:
      label: "Cert Manager Pod DNS Policy"
      description: "Specify the pod DNS policy for the Cert Manager."
      type: "string"
      default: "ClusterFirst"
      immutable: false
      required: false
  podDnsConfig:
    __metadata:
      label: "Cert Manager Pod DNS Configuration"
      description: "Specify the pod DNS configuration for the Cert Manager."
      type: "object"
      immutable: false
      required: false
  email:
    __metadata:
      label: "Email"
      description: "Specify the email address for the issuer."
      type: "string"
      default: ""
      immutable: false
      required: false
  resources:
    __metadata:
      label: "Cert Manager Resources"
      description: "Specify the resource(CPU/Memory) requests & limits for Cert Manager."
      type: "object"
      default: {} 
