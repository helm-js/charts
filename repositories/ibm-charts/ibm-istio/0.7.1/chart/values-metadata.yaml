## Metadata for <ibm-istio-chart> configuration
## This metadata is used to augment the value.yaml to drive IPC UI for configuration of the Helm chart installation

global:
  proxy:
    __metadata:
      label: "Proxy Image"
    repository:
      __metadata:
        label: "Proxy Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-proxy"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Proxy Image Tag"
        description: "image tag"
        type: "string"
        default: "0.7.1"
        immutable: "false"
        required: false
    imagePullPolicy:
      __metadata:
        label: "Proxy Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  
  proxyInit:
    __metadata:
      label: "Proxy_init Image"
    repository:
      __metadata:
        label: "Proxy_init Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-proxy_init"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Proxy_init Image Tag"
        description: "image tag"
        type: "string"
        default: "0.7.1"
        immutable: false
        required: false
    imagePullPolicy:
      __metadata:
        label: "Proxy_init Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  
  kubectl:
    __metadata:
      label: "Kubectl Image"
    repository:
      __metadata:
        label: "Kubectl Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-kubectl"
        immutable: false
        required: false
    tag:
      __metadata:
        label: "Kubectl Image Tag"
        description: "image tag"
        type: "string"
        default: "v1.10.0"
        immutable: false
        required: false
    imagePullPolicy:
      __metadata:
        label: "Kubectl Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  
  securityEnabled:
    __metadata:
      label: "Security Enabled"
      description: "enable security"
      type: "boolean"
      default: true
      immutable: false
      required: false
  
  controlPlaneSecurityEnabled:
    __metadata:
      label: "Control Plane Security Enabled"
      description: "enable control plane security"
      type: "boolean"
      default: true
      immutable: false
      required: false
  
  mtls:
    enabled:
      __metadata:
        label: "Mutual TLS Authentication Enabled"
        description: "enable mutual TLS authentication"
        type: "boolean"
        default: true
        immutable: false
        required: false
  
  rbacEnabled:
    __metadata:
      label: "RBAC Enabled"
      description: "enable RBAC"
      type: "boolean"
      default: true
      immutable: false
      required: false
  
  imagePullSecrets:
    __metadata:
      label: "Private Image Pull Secret"
      description: "private image pulling secret list"
      type: "array"
      default: ""
      immutable: false
      required: false
  
  refreshInterval:
    __metadata:
      label: "Refresh Interval"
      description: "refresh interval"
      type: "string"
      default: "10s"
      immutable: false
      required: false

ingress:
  enabled:
    __metadata:
      label: "Ingress Enabled"
      description: "enable ingress"
      type: "boolean"
      default: true
      immutable: false
      required: false
  serviceAccountName:
    __metadata:
      label: "Service Account Name"
      description: "the service account name if RBAC is disabled"
      type: "string"
      default: "default"
      immutable: false
      required: false
  autoscaleMin:
    __metadata:
      label: "Auto Scale Mini"
      description: "the auto scale min"
      type: "number"
      default: 2
      immutable: false
      required: false
  autoscaleMax:
    __metadata:
      label: "Auto Scale Max"
      description: "the auto scale max"
      type: "number"
      default: 8
      immutable: false
      required: false
  resources:
    __metadata:
      label: "Ingress Resources"
    limits:
      __metadata:
        label: "Proxy Container Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "100m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Proxy Container Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
  service:
    __metadata:
      label: "Ingress Service"
    nodePort:
      enabled:
        __metadata:
          label: "Service NodePort Enabled"
          description: "enable Service NodePort"
          type: "boolean"
          default: false
          immutable: false
          required: false
      port:
        __metadata:
          label: "Service NodePort"
          description: "service nodePort"
          type: "number"
          default: 32000
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"

sidecar-injector:
  enabled:
    __metadata:
      label: "Sidecar-injector Enabled"
      description: "enable sidecar injector"
      type: "boolean"
      default: false
      immutable: false
      required: false
  serviceAccountName:
    __metadata:
      label: "Service Account Name"
      description: "the service account name if RBAC is disabled"
      type: "string"
      default: "default"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "replica count"
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Sidecar-injector Image"
    repository:
      __metadata:
        label: "Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-sidecar_injector"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Image Tag"
        description: "image tag"
        type: "string"
        default: "0.7.1"
        immutable: "false"
        required: false
    pullPolicy:
      __metadata:
        label: "Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  resources:
    __metadata:
      label: "Sidecar-injector Resources"
    limits:
      __metadata:
        label: "Sidecar-injector Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "100m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Sidecar-injector Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
  includeIPRanges:
    __metadata:
      label: "Include IP Ranges"
      description: "Istio egress capture whitelist. For example: includeIPRanges: '172.30.0.0/16,172.20.0.0/16'"
      type: "string"
      immutable: false
      required: false

mixer:
  enabled:
    __metadata:
      label: "Mixer Enabled"
      description: "enable mixer"
      type: "boolean"
      default: true
      immutable: false
      required: false
  serviceAccountName:
    __metadata:
      label: "Service Account Name"
      description: "the service account name if RBAC is disabled"
      type: "string"
      default: "default"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "replica count"
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Mixer Image"
    repository:
      __metadata:
        label: "Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-mixer"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Image Tag"
        description: "image tag"
        type: "string"
        default: "0.7.1"
        immutable: "false"
        required: false
    pullPolicy:
      __metadata:
        label: "Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  resources:
    __metadata:
      label: "Mixer Resources"
    limits:
      __metadata:
        label: "Mixer Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "100m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Mixer Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
  prometheusStatsdExporter:
    __metadata:
      label: "Prometheus Statsd Exporter Image"
    repository:
      __metadata:
        label: "Prometheus Statsd Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/prom-statsd-exporter"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Prometheus Statsd Image Tag"
        description: "image tag"
        type: "string"
        default: "v0.5.0"
        immutable: "false"
        required: false
    imagePullPolicy:
      __metadata:
        label: "Prometheus Statsd Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
    resources:
      __metadata:
        label: "Prometheus Statsd Exporter Container Resources"
      limits:
        __metadata:
          label: "Prometheus Statsd Exporter Container Resources Limits"
        cpu:
          __metadata:
            label: "Prometheus Statsd CPU limit"
            description: "the CPU limit"
            type: "string"
            default: "100m"
            immutable: false
            required: false 
        memory:
          __metadata:
            label: "Prometheus Statsd Memory limit"
            description: "the memeory limit"
            type: "string"
            default: "128Mi"
            immutable: false
            required: false
      requests:
        __metadata:
          label: "Prometheus Statsd Exporter Container Resources Requests"
        cpu:
          __metadata:
            label: "Prometheus Statsd CPU request"
            description: "the requested CPU"
            type: "string"
            default: "100m"
            immutable: false
            required: false
        memory:
          __metadata:
            label: "Prometheus Statsd Memory request"
            description: "the memory request"
            type: "string"
            default: "128Mi"
            immutable: false
            required: false

pilot:
  enabled:
    __metadata:
      label: "Pilot Enabled"
      description: "enable Pilot"
      type: "boolean"
      default: true
      immutable: false
      required: false
  serviceAccountName:
    __metadata:
      label: "Service Account Name"
      description: "the service account name if RBAC is disabled"
      type: "string"
      default: "default"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "replica count"
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Pilot Image"
    repository:
      __metadata:
        label: "Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-pilot"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Image Tag"
        description: "image tag"
        type: "string"
        default: "0.7.1"
        immutable: "false"
        required: false
    pullPolicy:
      __metadata:
        label: "Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  resources:
    __metadata:
      label: "Pilot Resources"
    limits:
      __metadata:
        label: "Pilot Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "100m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Pilot Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"

security:
  serviceAccountName:
    __metadata:
      label: "Service Account Name"
      description: "the service account name if RBAC is disabled"
      type: "string"
      default: "default"
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "replica count"
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Security Image"
    repository:
      __metadata:
        label: "Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-ca"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Image Tag"
        description: "image tag"
        type: "string"
        default: "0.7.1"
        immutable: "false"
        required: false
    pullPolicy:
      __metadata:
        label: "Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  resources:
    __metadata:
      label: "Security Resources"
    limits:
      __metadata:
        label: "Istio-ca Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "100m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Istio-ca Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"

grafana:
  enabled:
    __metadata:
      label: "Grafana Enabled"
      description: "enable grafana"
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "replica count"
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Grafana Image"
    repository:
      __metadata:
        label: "Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-grafana"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Image Tag"
        description: "image tag"
        type: "string"
        default: "0.7.1"
        immutable: "false"
        required: false
    pullPolicy:
      __metadata:
        label: "Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  service:
    name:
      label: "Grafana Service Name"
      description: "the grafana service name"
      type: "string"
      default: "http"
      immutable: false
      required: false
    type:
      label: "Grafana Service Type"
      description: "the grafana service type"
      type: "string"
      default: "ClusterIP"
      immutable: false
      required: false
    externalPort:
      label: "Grafana Service External Port"
      description: "the grafana service external port"
      type: "number"
      default: 3000
      immutable: false
      required: false
    internalPort:
      label: "Grafana Service Internal Port"
      description: "the grafana service internal port"
      type: "number"
      default: 3000
      immutable: false
      required: false
  ingress:
    enabled:
      __metadata:
        label: "Grafana Ingress Enabled"
        description: "enable grafana ingress"
        type: "boolean"
        default: false
        immutable: false
        required: false
    hosts:
      - grafana.local
    annotations:
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    tls:
      # Secrets must be manually created in the namespace.
      # - secretName: grafana-tls
      #   hosts:
      #     - grafana.local
  resources:
    __metadata:
      label: "Grafana Resources"
    limits:
      __metadata:
        label: "Grafana Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "100m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Grafana Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
  
prometheus:
  enabled:
    __metadata:
      label: "Prometheus Enabled"
      description: "enable prometheus"
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "replica count"
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Prometheus Image"
    repository:
      __metadata:
        label: "Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/prometheus"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Image Tag"
        description: "image tag"
        type: "string"
        default: "v2.0.0"
        immutable: "false"
        required: false
    pullPolicy:
      __metadata:
        label: "Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  service:
    __metadata:
      label: "Prometheus Service"
    nodePort:
      enabled:
        __metadata:
          label: "Service NodePort Enabled"
          description: "enable Service NodePort"
          type: "boolean"
          default: false
          immutable: false
          required: false
      port:
        __metadata:
          label: "Service NodePort"
          description: "service nodePort"
          type: "number"
          default: 32090
          immutable: false
          required: false    
  ingress:
    enabled:
      __metadata:
        label: "Prometheus Ingress Enabled"
        description: "enable prometheus ingress"
        type: "boolean"
        default: false
        immutable: false
        required: false
    hosts:
      - prometheus.local
    annotations:
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    tls:
      # Secrets must be manually created in the namespace.
      # - secretName: prometheus-tls
      #   hosts:
      #     - prometheus.local
  resources:
    __metadata:
      label: "Prometheus Resources"
    limits:
      __metadata:
        label: "Prometheus Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "100m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "1024Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Prometheus Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "256Mi"
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"

servicegraph:
  enabled:
    __metadata:
      label: "Servicegraph Enabled"
      description: "enable servicegraph"
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "replica count"
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Servicegraph Image"
    repository:
      __metadata:
        label: "Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/istio-servicegraph"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Image Tag"
        description: "image tag"
        type: "string"
        default: "0.7.1"
        immutable: "false"
        required: false
    pullPolicy:
      __metadata:
        label: "Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  service:
    name:
      label: "Servicegraph Service Name"
      description: "the servicegraph service name"
      type: "string"
      default: "http"
      immutable: false
      required: false
    type:
      label: "Servicegraph Service Type"
      description: "the servicegraph service type"
      type: "string"
      default: "ClusterIP"
      immutable: false
      required: false
    externalPort:
      label: "Servicegraph Service External Port"
      description: "the servicegraph service external port"
      type: "number"
      default: 8088
      immutable: false
      required: false
    internalPort:
      label: "Servicegraph Service Internal Port"
      description: "the servicegraph service internal port"
      type: "number"
      default: 8088
      immutable: false
      required: false
  ingress:
    enabled:
      __metadata:
        label: "Servicegraph Ingress Enabled"
        description: "enable servicegraph ingress"
        type: "boolean"
        default: false
        immutable: false
        required: false
    hosts:
      - servicegraph.local
    annotations:
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    tls:
      # Secrets must be manually created in the namespace.
      # - secretName: servicegraph-tls
      #   hosts:
      #     - servicegraph.local
  resources:
    __metadata:
      label: "Servicegraph Resources"
    limits:
      __metadata:
        label: "Servicegraph Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "100m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Servicegraph Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "128Mi"
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
  prometheusAddr:
    __metadata:
      label: "Prometheus Address"
      description: "Prometheus Address"
      type: "string"
      default: "http://prometheus:9090"
      immutable: false
      required: false

zipkin:
  enabled:
    __metadata:
      label: "Zipkin Enabled"
      description: "enable zipkin"
      type: "boolean"
      default: true
      immutable: false
      required: false
  replicaCount:
    __metadata:
      label: "Replica Count"
      description: "replica count"
      type: "number"
      default: 1
      immutable: false
      required: false
  image:
    __metadata:
      label: "Zipkin Image"
    repository:
      __metadata:
        label: "Image Repository"
        description: "image location"
        type: "string"
        default: "ibmcom/zipkin"
        immutable: "false"
        required: false
    tag:
      __metadata:
        label: "Image Tag"
        description: "image tag"
        type: "string"
        default: "2.6.0"
        immutable: "false"
        required: false
    pullPolicy:
      __metadata:
        label: "Image Pull Policy"
        description: "Always, Never, or IfNotPresent. Defaults to Always"
        type: "string"
        default: "IfNotPresent"
        immutable: false
        required: false
        options:
        - label: "Always"
          value: "Always"
        - label: "Never"
          value: "Never"
        - label: "IfNotPresent"
          value: "IfNotPresent"
  service:
    name:
      label: "Zipkin Service Name"
      description: "the zipkin service name"
      type: "string"
      default: "http"
      immutable: false
      required: false
    type:
      label: "Zipkin Service Type"
      description: "the zipkin service type"
      type: "string"
      default: "ClusterIP"
      immutable: false
      required: false
    externalPort:
      label: "Zipkin Service External Port"
      description: "the zipkin service external port"
      type: "number"
      default: 9411
      immutable: false
      required: false
    internalPort:
      label: "Zipkin Service Internal Port"
      description: "the zipkin service internal port"
      type: "number"
      default: 9411
      immutable: false
      required: false
  ingress:
    enabled:
      __metadata:
        label: "Zipkin Ingress Enabled"
        description: "enable zipkin ingress"
        type: "boolean"
        default: false
        immutable: false
        required: false
    hosts:
      - zipkin.local
    annotations:
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    tls:
      # Secrets must be manually created in the namespace.
      # - secretName: zipkin-tls
      #   hosts:
      #     - zipkin.local
  resources:
    __metadata:
      label: "Zipkin Resources"
    limits:
      __metadata:
        label: "Zipkin Resources Limits"
      cpu:
        __metadata:
          label: "CPU limit"
          description: "the CPU limit"
          type: "string"
          default: "2000m"
          immutable: false
          required: false 
      memory:
        __metadata:
          label: "Memory limit"
          description: "the memeory limit"
          type: "string"
          default: "1024Mi"
          immutable: false
          required: false
    requests:
      __metadata:
        label: "Zipkin Resources Requests"
      cpu:
        __metadata:
          label: "CPU request"
          description: "the requested CPU"
          type: "string"
          default: "100m"
          immutable: false
          required: false
      memory:
        __metadata:
          label: "Memory request"
          description: "the memory request"
          type: "string"
          default: "512Mi"
          immutable: false
          required: false
  management:
    label: "Deploy to Management Node"
    description: "whether to deploy to management node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  dedicated:
    label: "Deploy to Dedicated Node"
    description: "whether to deploy to dedicated node"
    type: "boolean"
    default: true
    immutable: false
    required: false
  criticalAddonsOnly:
    label: "Critical Addons Only"
    description: "whether to only permit critical addons"
    type: "boolean"
    default: true
    immutable: false
    required: false
  arch:
    __metadata:
      label: "Architecture scheduling preferences"
    amd64:
      __metadata:
        name: "amd64"
        label: "amd64"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    ppc64le:
      __metadata:
        name: "ppc64le"
        label: "ppc64le"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
    s390x:
      __metadata:
        name: "s390x"
        label: "s390x"
        description: "Architecture preference for target worker node."
        type: "string"
        default: "2 - No preference"
        immutable: false
        required: false
        options:
          - label: "0 - Do not use"
            value: "0 - Do not use"
          - label: "1 - Least preferred"
            value: "1 - Least preferred"
          - label: "2 - No preference"
            value: "2 - No preference"
          - label: "3 - Most preferred"
            value: "3 - Most preferred"
